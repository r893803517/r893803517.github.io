# CSS 中的 @规则 (@-Rules) 全面解析

除了常见的 @media 和 @keyframes，CSS 还提供了多种功能强大的 @规则，以下是完整的分类介绍：

## 一、样式控制类 @规则

### 1. @media - 媒体查询

``` css
@media (max-width: 768px) {
  /* 视口宽度≤768px时应用的样式 */
  body { font-size: 14px; }
}
```


### 2. @supports - 特性检测

``` css
@supports (display: grid) {
  /* 浏览器支持Grid布局时生效 */
  .container { display: grid; }
}
```

### 3. @container - 容器查询 (CSS3)

``` css
@container (min-width: 380px) {
  /* 当容器宽度≥380px时 */
  .card { flex-direction: row; }
}
```

## 二、资源管理类 @规则

### 4. @import - 导入样式表

``` css
@import url('reset.css') screen and (min-width: 800px);
@import 'print-styles.css' print;
```

### 5. @font-face - 自定义字体

``` css
@font-face {
  font-family: 'MyFont';
  src: url('myfont.woff2') format('woff2'),
       url('myfont.woff') format('woff');
  font-weight: 400;
  font-display: swap;
}
```

### 6. @font-palette-values - 字体调色板

``` css
@font-palette-values --colorful {
  font-family: 'Bungee';
  base-palette: 3; /* 使用字体内置的第3套配色 */
}
```

## 三、布局与排版类 @规则

### 7. @page - 打印样式控制

``` css
@page {
  size: A4;
  margin: 2cm;
  @top-center { content: "文档标题"; }
}
```

### 8. @counter-style - 自定义列表编号

``` css
@counter-style triangles {
  system: cyclic;
  symbols: ▶;
  suffix: " ";
}
ul { list-style: triangles; }
```

## 四、动画与过渡类 @规则

### 9. @keyframes - 关键帧动画

``` css
@keyframes slidein {
  from { transform: translateX(-100%); }
  to { transform: translateX(0); }
}
```

### 10. @scroll-timeline - 滚动时间轴 (实验性)

``` css
@scroll-timeline progress-timeline {
  source: selector(#container);
  orientation: vertical;
}
```

## 五、其他功能类 @规则

### 11. @charset - 字符集声明

```css
@charset "UTF-8";
```

### 12. @namespace - XML命名空间

``` css
@namespace svg url(http://www.w3.org/2000/svg);
/* 匹配SVG元素 */
svg|a { fill: blue; }
```

### 13. @property - 自定义属性注册

``` css
@property --primary-color {
  syntax: '<color>';
  inherits: true;
  initial-value: #3498db;
}
```

### 14. @layer - 级联层 (CSS Cascade Layers)

``` css
@layer base, theme;
@layer base {
  /* 低优先级样式 */
  h1 { color: gray; }
}
@layer theme {
  /* 高优先级样式 */
  h1 { color: red; }
}
```

## 六、实验性 @规则 (需谨慎使用)

### 15. @starting-style - 初始样式

``` css
@starting-style {
  .modal { opacity: 0; }
}
.modal { opacity: 1; transition: opacity 0.3s; }
```

### 16. @color-profile - 色彩配置

``` css
@color-profile --swop5c {
  src: url('https://example.org/swop5c.icc');
}
```

## 浏览器兼容性提示

### 使用现代工具检查兼容性：

``` css
@supports not (container-type: inline-size) {
  /* 不支持容器查询的备用样式 */
}
```

### 渐进增强策略：

``` css
/* 基础样式 */
.element { ... }

/* 增强样式 */
@supports (display: grid) {
  .element { display: grid; }
}
```